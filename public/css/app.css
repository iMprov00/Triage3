/**
 * Триаж — единая палитра и минималистичный интерфейс
 * Цвета: 1) Teal (основной), 2) Slate (нейтраль), 3) Белый/светлый фон
 */

/* ========== Палитра (3 основных цвета) ========== */
:root {
  --primary: #0d9488;
  --primary-hover: #0f766e;
  --primary-light: #ccfbf1;
  --neutral: #475569;
  --neutral-dark: #334155;
  --neutral-light: #f1f5f9;
  --surface: #ffffff;
  --bg: #f8fafc;
  --text: #1e293b;
  --text-muted: #64748b;
  /* Критичные состояния — только где необходимо */
  --danger: #dc2626;
  --danger-bg: #fef2f2;
  --radius: 10px;
  --radius-sm: 6px;
  --touch: 44px;
  --shadow: 0 1px 3px rgba(0,0,0,0.06);
  --shadow-md: 0 4px 12px rgba(0,0,0,0.08);
}

/* ========== Сброс и база ========== */
.text-muted { color: var(--text-muted) !important; }
.input-group-text {
  background: var(--neutral-light);
  border: 1px solid var(--neutral-light);
  color: var(--neutral);
  border-radius: var(--radius-sm);
  font-size: 0.9375rem;
}

body {
  margin: 0;
  background: var(--bg);
  color: var(--text);
  font-family: system-ui, -apple-system, "Segoe UI", Roboto, sans-serif;
  font-size: 15px;
  line-height: 1.6;
  min-height: 100vh;
}

/* Верхняя полоса: логотип и ссылка на монитор ТВ */
.app-header {
  background: var(--surface);
  border-bottom: 1px solid var(--neutral-light);
  padding: 0.75rem 0;
}
.app-logo {
  font-size: 1.25rem;
  font-weight: 700;
  color: var(--primary);
  text-decoration: none;
  letter-spacing: -0.02em;
}
.app-logo:hover { color: var(--primary-hover); }
.app-nav-link {
  font-size: 0.9375rem;
  font-weight: 500;
  color: var(--neutral);
  text-decoration: none;
  display: inline-flex;
  align-items: center;
  gap: 0.35rem;
}
.app-nav-link:hover { color: var(--primary); }

.app-container {
  max-width: 1200px;
  margin: 0 auto;
  padding: 1.25rem;
}
@media (min-width: 768px) {
  .app-container { padding: 1.5rem 2rem; }
}

/* ========== Типографика ========== */
.page-title {
  font-size: 1.5rem;
  font-weight: 700;
  color: var(--text);
  margin: 0 0 1rem 0;
  letter-spacing: -0.02em;
}
@media (min-width: 768px) {
  .page-title { font-size: 1.75rem; }
}

/* ========== Карточки ========== */
.app-card,
.card.app-card {
  background: var(--surface);
  border: 1px solid var(--neutral-light);
  border-radius: var(--radius);
  box-shadow: var(--shadow);
  overflow: hidden;
}
.app-card:hover { box-shadow: var(--shadow-md); }

.app-card-header,
.card-header.app-card-header {
  padding: 1rem 1.25rem;
  background: var(--surface);
  border-bottom: 1px solid var(--neutral-light);
  font-weight: 600;
  font-size: 0.95rem;
  color: var(--text);
}
.app-card-body,
.card-body { padding: 1.25rem; }
.app-card-footer,
.card-footer.app-card-footer {
  padding: 0.875rem 1.25rem;
  border-top: 1px solid var(--neutral-light);
  font-size: 0.875rem;
  color: var(--text-muted);
}

/* ========== Кнопки (основная — teal, вторая — neutral) ========== */
.btn {
  min-height: var(--touch);
  padding: 0.5rem 1rem;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 0.4rem;
  border-radius: var(--radius-sm);
  font-weight: 500;
  font-size: 0.9375rem;
  border: 1px solid transparent;
  transition: background 0.15s, border-color 0.15s;
}
.btn-sm { min-height: 38px; padding: 0.35rem 0.75rem; font-size: 0.875rem; }

.btn-primary {
  background: var(--primary);
  border-color: var(--primary);
  color: #fff;
}
.btn-primary:hover {
  background: var(--primary-hover);
  border-color: var(--primary-hover);
  color: #fff;
}

.btn-secondary {
  background: var(--surface);
  border-color: var(--neutral-light);
  color: var(--neutral);
}
.btn-secondary:hover {
  background: var(--neutral-light);
  border-color: var(--neutral);
  color: var(--neutral-dark);
}

.btn-success {
  background: var(--primary);
  border-color: var(--primary);
  color: #fff;
}
.btn-success:hover {
  background: var(--primary-hover);
  border-color: var(--primary-hover);
  color: #fff;
}

.btn-outline-secondary {
  background: transparent;
  border-color: var(--neutral-light);
  color: var(--neutral);
}
.btn-outline-secondary:hover {
  background: var(--neutral-light);
  color: var(--neutral-dark);
}

.btn-info { background: var(--neutral); border-color: var(--neutral); color: #fff; }
.btn-info:hover { background: var(--neutral-dark); border-color: var(--neutral-dark); color: #fff; }

.btn-danger { background: var(--danger); border-color: var(--danger); color: #fff; }
.btn-danger:hover { opacity: 0.9; color: #fff; }

/* Группа кнопок в одну линию */
.action-bar {
  display: flex;
  flex-wrap: wrap;
  gap: 0.5rem;
  align-items: center;
}
.action-bar .btn { flex: 0 1 auto; }

/* ========== Формы ========== */
.form-control,
.form-select {
  min-height: var(--touch);
  border: 1px solid var(--neutral-light);
  border-radius: var(--radius-sm);
  color: var(--text);
  font-size: 1rem;
}
.form-control:focus,
.form-select:focus {
  border-color: var(--primary);
  outline: none;
  box-shadow: 0 0 0 3px var(--primary-light);
}
.form-label {
  font-weight: 500;
  color: var(--text);
  margin-bottom: 0.35rem;
  font-size: 0.875rem;
}
.form-check-input {
  width: 1.125rem;
  height: 1.125rem;
  border-color: var(--neutral);
}
.form-check-input:checked { background-color: var(--primary); border-color: var(--primary); }
.form-check-label { padding-left: 0.5rem; }

/* ========== Таймер в карточке пациента ========== */
.timer-box {
  background: var(--surface);
  border: 1px solid var(--neutral-light);
  border-radius: var(--radius-sm);
  padding: 0.75rem 1rem;
  margin: 0.5rem 0;
  font-weight: 600;
  font-size: 1.1rem;
  text-align: center;
}
.timer-box.timer-running {
  background: var(--primary-light);
  border-color: var(--primary);
  color: var(--primary-hover);
}
.timer-box.timer-expired {
  background: var(--danger-bg);
  border-color: #fecaca;
  color: var(--danger);
}

/* ========== Бейджи (в палитре: primary, neutral, danger) ========== */
.badge {
  font-weight: 500;
  padding: 0.25rem 0.5rem;
  border-radius: var(--radius-sm);
  font-size: 0.8125rem;
}
.bg-primary { background: var(--primary) !important; }
.bg-secondary { background: var(--neutral) !important; }
.bg-success { background: var(--primary) !important; }
.bg-danger { background: var(--danger) !important; }
.bg-warning { background: var(--neutral) !important; color: var(--text) !important; }
.bg-info { background: var(--neutral) !important; }
.bg-purple { background: var(--neutral-dark) !important; }

/* ========== Алерты ========== */
.alert {
  border-radius: var(--radius-sm);
  border: 1px solid transparent;
  padding: 0.875rem 1rem;
}
.alert-success {
  background: var(--primary-light);
  border-color: var(--primary);
  color: var(--primary-hover);
}
.alert-danger {
  background: var(--danger-bg);
  border-color: #fecaca;
  color: #991b1b;
}
.alert-warning {
  background: #fffbeb;
  border-color: #fde68a;
  color: #92400e;
}
.alert-info {
  background: var(--neutral-light);
  border-color: var(--neutral);
  color: var(--neutral-dark);
}
.alert-light { background: var(--neutral-light); border-color: var(--neutral-light); color: var(--text); }

/* ========== Статистика (карточки с цифрами) ========== */
.stat-card {
  border-radius: var(--radius);
  padding: 1.25rem;
  display: flex;
  align-items: center;
  justify-content: space-between;
  min-height: 90px;
  border: 1px solid var(--neutral-light);
  background: var(--surface);
  box-shadow: var(--shadow);
}
.stat-card .stat-value { font-size: 1.75rem; font-weight: 700; color: inherit; }
.stat-card .stat-label { font-size: 0.8125rem; opacity: 0.9; }
.stat-card i { font-size: 1.75rem; opacity: 0.8; }
.stat-card.bg-primary { background: var(--primary); border-color: var(--primary); color: #fff; }
.stat-card.bg-success { background: var(--primary); border-color: var(--primary); color: #fff; }
.stat-card.bg-warning { background: var(--neutral); border-color: var(--neutral); color: #fff; }
.stat-card.bg-danger { background: var(--danger); border-color: var(--danger); color: #fff; }
.stat-card.bg-info { background: var(--neutral-dark); border-color: var(--neutral-dark); color: #fff; }

/* ========== Список пациентов (карточки) ========== */
.patient-list .col-card { margin-bottom: 1rem; }
.patient-list .card {
  border-radius: var(--radius);
  border: 1px solid var(--neutral-light);
  box-shadow: var(--shadow);
}
.patient-list .card:hover { box-shadow: var(--shadow-md); }
.patient-list .card-title { font-size: 1.05rem; font-weight: 600; color: var(--text); }

/* ========== Модальное окно ========== */
.modal-content {
  border-radius: var(--radius);
  border: 1px solid var(--neutral-light);
  box-shadow: 0 20px 50px rgba(0,0,0,0.12);
}
.modal-header {
  border-bottom: 1px solid var(--neutral-light);
  padding: 1rem 1.25rem;
}
.modal-title { font-size: 1.1rem; font-weight: 600; color: var(--text); }
.modal-body { padding: 1.25rem; }
.modal-footer { border-top: 1px solid var(--neutral-light); padding: 1rem 1.25rem; }
.list-group-item {
  border-color: var(--neutral-light);
  padding: 0.75rem 1rem;
}
.list-group-item:first-child { border-radius: var(--radius-sm) var(--radius-sm) 0 0; }

/* ========== Фильтры ========== */
.filters-card .card-body { padding: 1.25rem; }
.card-header.bg-light {
  background: var(--neutral-light) !important;
  color: var(--text);
  border-bottom: 1px solid var(--neutral-light);
}

/* ========== Адаптив ========== */
@media (max-width: 767px) {
  .page-title { font-size: 1.35rem; }
  .action-bar .btn { min-width: 100%; }
  .stat-card .stat-value { font-size: 1.5rem; }
}
